<%= form_with url: all_sub_account_transactions_path, method: :get, local: true, html: { class: 'centered-form' } do %>
  <div class="input-group">
    <%= text_field_tag :search, params[:search], class: "form-control", placeholder: "Search by title" %>
    <div class="input-group-append">
      <%= submit_tag "Search", class: "btn btn-outline-secondary" %>
    </div>
  </div>
  <div class="d-flex justify-content-between mt-2">
    <%= link_to "Clear", all_sub_account_transactions_path, class: "clear btn btn-link" %>
    <div class="dropdown">
      <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="columnDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        Select Columns
      </button>
      <ul class="dropdown-menu p-2" aria-labelledby="columnDropdown">
        <li>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="account" id="accountColumn" <%= 'checked' if @selected_columns.include?('account') %>>
            <label class="form-check-label" for="accountColumn">
              Account
            </label>
          </div>
        </li>
        <li>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="creator" id="creatorColumn" <%= 'checked' if @selected_columns.include?('creator') %>>
            <label class="form-check-label" for="creatorColumn">
              Creator
            </label>
          </div>
        </li>
        <li>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="category" id="categoryColumn" <%= 'checked' if @selected_columns.include?('category') %>>
            <label class="form-check-label" for="categoryColumn">
              Category
            </label>
          </div>
        </li>
      </ul>
    </div>
  </div>
<% end %>

<style>
  .centered-form {
    margin: 0 auto;
    max-width: 400px;
  }

  .clear {
    text-decoration: none;
  }

  .dropdown-menu {
    min-width: 100px;
  }

  .form-control[multiple] {
    height: auto;
  }
</style>